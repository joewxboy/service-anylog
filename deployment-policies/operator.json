{
    "label": "$SERVICE_NAME Deployment Policy",      
    "description": "Policy to auto deploy $SERVICE_NAME",
    "service": {       
      "name": "$SERVICE_NAME",
      "org": "$HZN_ORG_ID",    
      "arch": "$ARCH",
      "serviceVersions": [ 
        {
          "version": "$SERVICE_VERSION",
          "priority":{}
        }
      ]
    },
    "properties": [
    ],
    "constraints": [ 
         "purpose == edgelake",
         "openhorizon.allowPrivileged == true"
    ], 
    "userInput": [ 
      {            
        "serviceOrgid": "$HZN_ORG_ID",
        "serviceUrl": "$SERVICE_NAME",
        "serviceVersionRange": "[0.0.0,INFINITY)",
        "inputs": [
          {
              "name": "NODE_TYPE",
              "label": "Information regarding which AnyLog node configurations to enable. By default, even if everything is disabled, AnyLog starts TCP and REST connection protocols",
              "type": "string",
              "value": "${NODE_TYPE}"
          },
          {
              "name": "NODE_NAME",
              "label": "Name of the AnyLog instance",
              "type": "string",
              "value": "${NODE_NAME}"
          },
          {
              "name": "COMPANY_NAME",
              "label": "Owner of the AnyLog instance",
              "type": "string",
              "value": "${COMPANY_NAME}"
          },
          {
              "name": "ANYLOG_SERVER_PORT",
              "label": "Port address used by AnyLog's TCP protocol to communicate with other nodes in the network",
              "type": "int",
              "value": "${ANYLOG_SERVER_PORT}"
          },
          {
              "name": "ANYLOG_REST_PORT",
              "label": "Port address used by AnyLog's REST protocol",
              "type": "int",
              "value": "${ANYLOG_REST_PORT}"
          },
          {
              "name": "TCP_BIND",
              "label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
              "type": "bool",
              "value": "${TCP_BIND}"
          },
          {
              "name": "REST_BIND",
              "label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
              "type": "bool",
              "value": "${REST_BIND}"
          },
          {
              "name": "LEDGER_CONN",
              "label": "TCP connection information for Master Node",
              "type": "string",
              "value": "${LEDGER_CONN}"
          },
          {
            "name": "DB_TYPE",
            "label": "Physical database type (sqlite or psql)",
            "type": "string",
            "defaultValue": "sqlite",
            "value": "${DB_TYPE}"
          },
          {
            "name": "DB_USER",
            "label": "Username for SQL database connection",
            "type": "string",
            "defaultValue": "admin",
            "value": "${DB_USER}"
          },
          {
            "name": "DB_PASSWD",
            "label": "Password correlated to database user",
            "type": "string",
            "defaultValue": "Pa55W0rD!",
            "value": "${DB_PASSWD}"
          },
          {
            "name": "DB_IP",
            "label": "Database IP address",
            "type": "string",
            "defaultValue": "127.0.0.1",
            "value": "${DB_IP}"
          },
          {
            "name": "DB_PORT",
            "label": "Database port number",
            "type": "int",
            "defaultValue": "54332",
            "value": "${DB_PORT}"
          },
          {
            "name": "AUTOCOMMIT",
            "label": "Whether to set autocommit data",
            "type": "string",
            "defaultValue": "false",
            "value": "${AUTOCOMMIT}"
          },
          {
            "name": "SYSTEM_QUERY",
            "label": "Enable system query logical database",
            "type": "string",
            "defaultValue": "false",
            "value": "${SYSTEM_QUERY}"
          },

          {
            "name": "ENABLE_NOSQL",
            "label": "Whether to enable NoSQL logical database",
            "type": "bool",
            "defaultValue": "false",
            "value": "${ENABLE_NOSQL}"
          },
          {
            "name": "NOSQL_TYPE",
            "label": "Physical database type",
            "type": "string",
            "defaultValue": "mongo",
            "value": "${NOSQL_TYPE}"
          },
          {
            "name": "NOSQL_USER",
            "label": "Username for NoSQL database connection",
            "type": "string",
            "defaultValue": "",
            "value": "${NOSQL_USER}"
          },
          {
            "name": "NOSQL_PASSWD",
            "label": "Password correlated to database user",
            "type": "string",
            "defaultValue": "",
            "value": "${NOSQL_PASSWD}"
          },
          {
            "name": "DB_IP",
            "label": "Database IP address",
            "type": "string",
            "defaultValue": "127.0.0.1",
            "value": "${DB_IP}"
          },
          {
            "name": "NOSQL_PORT",
            "label": "Database port number",
            "type": "int",
            "defaultValue": "27017",
            "value": "${NOSQL_PORT}"
          },
          {
            "name": "BLOBS_DBMS",
            "label": "Store blobs in database",
            "type": "bool",
            "defaultValue": "false",
            "value": "${BLOBS_DBMS}"
          },
          {
            "name": "BLOBS_REUSE",
            "label": "Whether (re)store a blob if already exists",
            "type": "bool",
            "defaultValue": "true",
            "value": "${BLOBS_REUSE}"
          },
          {
            "name": "AUTOCOMMIT",
            "label": "Whether to set autocommit data",
            "type": "string",
            "defaultValue": "false",
            "value": "${AUTOCOMMIT}"
          },
          {
            "name": "SYSTEM_QUERY",
            "label": "Enable system query logical database",
            "type": "string",
            "defaultValue": "false",
            "value": "${SYSTEM_QUERY}"
          },

          {
              "name": "CLUSTER_NAME",
              "label": "Owner of the cluster",
              "type": "string",
              "value": "${CLUSTER_NAME}"
          },
          {
            "name": "DEFAULT_DBMS",
            "label": "Logical database name",
            "type": "string",
            "value": "${DEFAULT_DBMS}"
          },
          {
            "name": "ENABLE_MQTT",
            "label": "Whether to enable the default MQTT process",
            "type": "bool",
            "defaultValue": "true",
            "value": "${ENABLE_MQTT}"
          },
          {
            "name": "MQTT_BROKER",
            "label": "IP address of MQTT broker",
            "type": "string",
            "defaultValue": "139.144.46.246",
            "value": "${MQTT_BROKER}"
          },
          {
            "name": "MQTT_PORT",
            "label": "Port associated with MQTT broker",
            "type": "int",
            "defaultValue": "1883",
            "value": "${MQTT_PORT}"
          },
          {
            "name": "MQTT_USER",
            "label": "User associated with MQTT broker",
            "type": "string",
            "defaultValue": "anyloguser",
            "value": "${MQTT_USER}"
          },
          {
            "name": "MQTT_PASSWD",
            "label": "Password associated with MQTT user",
            "type": "string",
            "defaultValue": "mqtt4AnyLog!",
            "value": "${MQTT_PASSWD}"
          },
          {
            "name": "MQTT_LOG",
            "label": "Whether to enable MQTT logging process",
            "type": "bool",
            "defaultValue": "false",
            "value": "${MQTT_LOG}"
          },

          {
            "name": "MSG_TOPIC",
            "label": "Topic to get data for",
            "type": "string",
            "defaultValue": "anylog-demo",
            "value": "${MSG_TOPIC}"
          },
          {
            "name": "MSG_DBMS",
            "label": "Logical database name",
            "type": "string",
            "defaultValue": "new_company",
            "value": "${MSG_DBMS}"
          },
          {
            "name": "MSG_TABLE",
            "label": "Table where to store data",
            "type": "string",
            "defaultValue": "bring [table]",
            "value": "${MSG_TABLE}"
          },
          {
            "name": "MSG_TIMESTAMP_COLUMN",
            "label": "Timestamp column name",
            "type": "string",
            "defaultValue": "bring [timestamp]",
            "value": "${MSG_TIMESTAMP_COLUMN}"
          },
          {
            "name": "MSG_VALUE_COLUMN",
            "label": "Value column name",
            "type": "string",
            "defaultValue": "bring [value]",
            "value": "${MSG_VALUE_COLUMN}"
          },
          {
            "name": "MSG_VALUE_COLUMN_TYPE",
            "label": "IP Column value type",
            "type": "string",
            "defaultValue": "float",
            "value": "${MSG_VALUE_COLUMN_TYPE}"
          },
          {
            "name": "DEPLOY_LOCAL_SCRIPT",
            "label": "Whether to automatically run a local (or personalized) script at the end of the process",
            "type": "bool",
            "defaultValue": "false",
            "value": "${DEPLOY_LOCAL_SCRIPT}"
          },
          {
            "name": "MONITOR_NODES",
            "label": "Whether to monitor the node or not",
            "type": "bool",
            "defaultValue": "true",
            "value": "${MONITOR_NODES}"
          }

        ]
      }
    ]
}  